<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002-1 (1.69)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Implementing the Analysis</TITLE>
<META NAME="description" CONTENT="Implementing the Analysis">
<META NAME="keywords" CONTENT="user_guide">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="user_guide.css">

<LINK REL="next" HREF="node9.html">
<LINK REL="previous" HREF="node7.html">
<LINK REL="up" HREF="node7.html">
<LINK REL="next" HREF="node9.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html136"
  HREF="node9.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html134"
  HREF="node7.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html128"
  HREF="node7.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html137"
  HREF="node9.html">Configuring the Analysis</A>
<B> Up:</B> <A NAME="tex2html135"
  HREF="node7.html">Writing a Dynamic Analysis</A>
<B> Previous:</B> <A NAME="tex2html129"
  HREF="node7.html">Writing a Dynamic Analysis</A>
<BR>
<BR>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00071000000000000000">
Implementing the Analysis</A>
</H2>

<P>
Create a class extending <TT>chord.project.analyses.DynamicAnalysis</TT> and override
the appropriate methods in it.
The only methods that must be compulsorily overridden are method <TT>getInstrScheme()</TT>,
which must return an instance of the ``instrumentation scheme" required by
your dynamic analysis (i.e., the kind and format of events to be generated during an
instrumented program's execution)
plus each <TT>process&lt;event&gt;(&lt;args&gt;)</TT> method that corresponds to event <TT>&lt;event&gt;</TT>
with format <TT>&lt;args&gt;</TT> enabled by the chosen instrumentation scheme.
See Section <A HREF="node11.html#sec:instr-events"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A> for the kinds of supported events and their formats.

<P>
A sample such class <TT>MyDynamicAnalysis</TT> is shown below:

<P>
<PRE>
    import chord.project.analyses.DynamicAnalysis;
    import chord.instr.InstrScheme;

    // ***TODO***: analysis won't be recognized by Chord without this annotation
    @Chord(name=&lt;name-of-analysis&gt;)    
    public class MyDynamicAnalysis extends DynamicAnalysis {
        InstrScheme scheme;

        @Override
        public InstrScheme getInstrScheme() {
            if (scheme != null)
                return scheme;
            scheme = new InstrScheme();
            // ***TODO***: Choose (&lt;event1&gt;, &lt;args1&gt;), ... (&lt;eventN&gt;, &lt;argsN&gt;)
            // depending upon the kind and format of events required by this
            // dynamic analysis to be generated for this during an instrumented
            // program's execution.
            scheme.set&lt;event1&gt;(&lt;args1&gt;);
            ...
            scheme.set&lt;eventN&gt;(&lt;argsN&gt;);
            return scheme;
        }

        @Override
        public void initAllPasses() {
            // ***TODO***: User code to be executed once and for all
            // before all instrumented program runs start.
        }

        @Override
        public void doneAllPasses() {
            // ***TODO***: User code to be executed once and for all
            // after all instrumented program runs finish.
        }

        @Override
        public void initPass() {
            // ***TODO***: User code to be executed once before each
            // instrumented program run starts.
        }

        @Override
        public void donePass() {
            // ***TODO***: User code to be executed once after each
            // instrumented program run finishes.
        }

        // User-defined event handlers for this dynamic analysis.
        // No-ops if not overridden.
        @Override
        public void process&lt;event1&gt;(&lt;args1&gt;) {
            // ***TODO***: User code for handling events of kind
            // &lt;event1&gt; with format &lt;args1&gt;.
        }
        ...
        @Override
        public void process&lt;eventN&gt;(&lt;argsN&gt;) {
            // ***TODO***: User code for handling events of kind
            // &lt;eventN&gt; with format &lt;argsN&gt;.
        }
    }
</PRE>

<P>
<BR><HR>
<ADDRESS>
Mayur Naik
2010-08-14
</ADDRESS>
</BODY>
</HTML>
